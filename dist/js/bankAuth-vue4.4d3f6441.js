(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bankAuth-vue4"],{"0113":function(t,e,n){},"3c18":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bank-auth"},[n("div",{staticClass:"block"},[n("cell",{attrs:{title:"银行卡号",defaultTxt:"未填写",type:"input",placeholder:"请输入"},model:{value:t.form.cardNo,callback:function(e){t.$set(t.form,"cardNo",e)},expression:"form.cardNo"}}),n("cell",{attrs:{title:"银行预留手机号",defaultTxt:"未填写",type:"input",placeholder:"请输入"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("div",{staticClass:"banklist"},[n("router-link",{attrs:{to:"/bankList"}},[t._v("下款必看！可下款的银行卡列表 >")])],1),n("div",[n("cube-button",{staticClass:"btn-main re-btn",style:[t.appConfig.mainBackground],attrs:{primary:!0},on:{click:t.submit}},[t._v("提交认证")])],1)])},i=[],a=(n("96cf"),n("1da1")),o=n("be94"),c=(n("cadf"),n("551c"),n("097d"),n("e85c")),s=n("0d5e"),u=n("7b0a"),l=(n("4466"),n("2f62")),f={data:function(){return{codeTime:60,codeBtn:!1,form:{cardNo:"",phone:"",phoneCode:void 0}}},computed:Object(o["a"])({},Object(l["b"])(["certification","user","appConfig"])),methods:{sendCode:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(Object(u["c"])(this.form.phone,!0)),Object(u["c"])(this.form.phone,!0)){t.next=3;break}return t.abrupt("return");case 3:if(!(this.form.cardNo.length<13)){t.next=6;break}return this.$store.commit("setMsg","银行卡号填写错误"),t.abrupt("return");case 6:return this.verCodeTime(),this.$store.commit("loading",!0),t.next=10,Object(s["b"])("/auth/card/beginBindCard",Object(o["a"])({},this.form),"post");case 10:e=t.sent,0===e.code&&this.$store.commit("setMsg","发送成功！");case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),verCodeTime:function(){var t=this;this.codeBtn=!0;var e=function e(){setTimeout(function(){0===t.codeTime?(t.codeBtn=!1,t.codeTime=60):(t.codeTime-=1,e())},1e3)};e()},submit:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(Object(u["c"])(this.form.phone,!0)){t.next=2;break}return t.abrupt("return");case 2:if(!(this.form.cardNo.length<13)){t.next=5;break}return this.$store.commit("setMsg","银行卡号填写错误"),t.abrupt("return");case 5:this.$store.commit("loading",!0),setTimeout(function(){var t=e.user.certification;t.bank=!0,e.$store.commit("setUser",{certification:t}),e.$store.commit("setMsg","认证成功"),e.$store.commit("loading",!1),e.$router.go(-1)},2e3);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},beforeCreate:function(){document.title="银行卡认证"},components:{cell:c["a"]}},d=f,p=(n("6094"),n("2877")),m=Object(p["a"])(d,r,i,!1,null,"bed9f076",null);m.options.__file="bankAuth.vue";e["default"]=m.exports},6094:function(t,e,n){"use strict";var r=n("9bb4"),i=n.n(r);i.a},"7b0a":function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return l});var r=n("fa7d"),i=function(t){var e=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=[1,0,"X",9,8,7,6,5,4,3,2],i=t.substring(17);if(e.test(t)){for(var a=0,o=0;o<17;o++)a+=t[o]*n[o];if(r[a%11]==i.toUpperCase())return!0}return!1},a=function(t){var e=/^(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)$/;if(e.test(t)){var n=t.substring(0,4),r=t.substring(4,6),i=t.substring(6,8),a=new Date(n+"-"+r+"-"+i);if(a&&a.getMonth()==parseInt(r)-1)return!0}return!1},o=function(t){var e=/^[1-9][0-9]/,n={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门"};return!(!e.test(t)||!n[t])},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i(t)){var n=t.substring(6,14);if(a(n)&&o(t.substring(0,2)))return!0}return e&&Object(r["b"])("身份证号错误"),!1},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=/^[1-9][0-9]{4,10}$/;return n.test(t)||e&&Object(r["b"])("qq号码错误"),n.test(t)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/;return n.test(t)||e&&Object(r["b"])("邮箱错误"),n.test(t)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=/^1[3456789]\d{9}$/;return console.log(t),n.test(t)||e&&Object(r["b"])("手机号码错误"),n.test(t)}},"7fc3":function(t,e,n){"use strict";var r=n("0113"),i=n.n(r);i.a},"9bb4":function(t,e,n){},e85c:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n    ")]),n("div",{staticClass:"content"},["input"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.val},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}}):t._t("default")],2)])},i=[],a={props:{title:{type:String,default:"标题"},defaultTxt:{type:String,default:"未填写"},type:{type:String,default:""},placeholder:{type:String,default:""},value:{type:String,default:""}},data:function(){return{val:this.value}},methods:{},watch:{value:function(t){this.val=t},val:function(t){this.$emit("input",t)}}},o=a,c=(n("7fc3"),n("2877")),s=Object(c["a"])(o,r,i,!1,null,"939e5718",null);s.options.__file="cell.vue";e["a"]=s.exports}}]);
//# sourceMappingURL=bankAuth-vue4.4d3f6441.js.map