(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loanCalcConfirm-vue13"],{"2fdb":function(t,e,n){"use strict";var s=n("5ca1"),i=n("d2c8"),a="includes";s(s.P+s.F*n("5147")(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,n){var s=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[s]=!1,!"/./"[t](e)}catch(i){}}return!0}},6762:function(t,e,n){"use strict";var s=n("5ca1"),i=n("c366")(!0);s(s.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},b7de:function(t,e,n){},cfe0:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loanCalc"},[n("div",{staticClass:"block select"},[n("p",{staticClass:"title first-title flex flex-between"},[n("span",[t._v("借款金额(元)")]),n("span",{style:[t.appConfig.mainColor]},[t._v(t._s(t.sel_money))])]),n("hr"),n("p",{staticClass:"title sec-title flex flex-between"},[n("span",[t._v("借款期限")]),n("span",{style:[t.appConfig.mainColor]},[t._v(t._s(t.sel_time)+"期")])])]),t._m(0),t._l(t.loanTime,function(e,s){return n("div",{key:s,staticClass:"block flex interest",class:{first:0==s}},[n("div",{staticClass:"time"},[n("div",[t._v("第"+t._s(s+1)+"期")]),n("div",{style:[t.appConfig.mainColor]},[t._v(t._s(e.time))])]),n("div",{staticClass:"money"},[n("div",{style:[t.appConfig.mainColor]},[t._v("￥"+t._s((Math.round(100*e.capital)+Math.round(100*e.interest))/100))]),n("div",{staticClass:"math"},[t._v("(本金+息费)￥"+t._s(e.capital)+"+￥"+t._s(e.interest))])])])}),n("div",{staticClass:"next block text-center"},[n("p",{staticClass:"return",style:[t.appConfig.mainColor],on:{click:function(e){t.$router.go(-1)}}},[t._v("修改借款金额 >")]),n("cube-button",{staticClass:"code-btn",style:[t.appConfig.mainBackground],attrs:{primary:!0},on:{click:t.goLoan}},[t._v("确认借款")]),n("p",{staticClass:"agreement"},[n("cube-checkbox",{staticClass:"agreement",attrs:{shape:"square"},model:{value:t.check,callback:function(e){t.check=e},expression:"check"}},[t._v("点击确认借款即同意")])],1),n("span",{staticClass:"xy",on:{click:function(e){t.$router.push("/loanAgreement")}}},[t._v("《"+t._s(t.appConfig.appName)+"借款合同》")])],1)],2)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block plan"},[n("p",{staticClass:"title flex"},[n("span",[t._v("期数")]),n("span",[t._v("还款额")])])])}],a=(n("6762"),n("2fdb"),n("be94")),o=n("2f62"),c={data:function(){return{check:!0,money_option:[3e3,5e3,1e4,2e4,3e4,5e4],sel_money:parseInt(this.$route.query.money)||1e4,time_option:[3,6,12],sel_time:parseInt(this.$route.query.time)||12,totalInterest:0,loanTime:[]}},computed:Object(a["a"])({},Object(o["b"])(["appConfig"])),methods:{isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},dateList:function(t){for(var e=new Date,n=e.getFullYear(),s=e.getDate(),i=e.getMonth()+1,a=[],o=[],c=1;c<t+1;c++){var r=void 0;12===i?(i=1,n++):i++,r=s>28&&2===i?this.isLeapYear(n)?29:28:s>30&&[2,4,6,9,11].includes(i)?30:s,o.push(n+"/"+i+"/"+r)}for(var l=0;l<o.length;l++){var u=void 0;u=0==l?(Date.parse(o[0])-Date.parse(e.toLocaleDateString()))/864e5:(Date.parse(o[l])-Date.parse(o[l-1]))/864e5,a.push({time:o[l],days:u})}return a},countMoney:function(){var t=this;this.totalInterest=0;for(var e=(Math.ceil(100*this.sel_money/this.sel_time)/100).toFixed(2),n=function(e){return(Math.ceil(100*t.sel_money*.24/365*e)/100).toFixed(2)},s=this.dateList(this.sel_time),i=0;i<s.length;i++)s[i].interest=+n(s[i].days),this.totalInterest+=+n(s[i].days),s[i].capital=+e;this.loanTime=s},goLoan:function(){this.check?(this.$store.commit("setUser",{selMoney:{money:this.sel_money,time:this.sel_time}}),this.$router.push("/loanWaiting?money=".concat(this.sel_money,"&time=").concat(this.sel_time))):this.$store.commit("setMsg","请勾选协议")}},mounted:function(){this.countMoney()},beforeCreate:function(){document.title="借款确认"},watch:{sel_money:function(t){this.countMoney()},sel_time:function(t){this.countMoney()}}},r=c,l=(n("d06c"),n("2877")),u=Object(l["a"])(r,s,i,!1,null,"3c1f59a8",null);u.options.__file="loanCalcConfirm.vue";e["default"]=u.exports},d06c:function(t,e,n){"use strict";var s=n("b7de"),i=n.n(s);i.a},d2c8:function(t,e,n){var s=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(s(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}}}]);
//# sourceMappingURL=loanCalcConfirm-vue13.782eaa69.js.map