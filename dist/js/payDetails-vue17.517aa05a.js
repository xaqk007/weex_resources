(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["payDetails-vue17"],{"0723":function(t,e,a){},"114e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bill-details"},[a("div",{staticClass:"top-card"},[a("p",{staticClass:"top"},[t._v("支付金额（元）")]),a("p",{staticClass:"money"},[a("span",{staticClass:"num"},[t._v(t._s(t._f("numToMoney")(t.payAmount)))])])]),a("ul",{staticClass:"form"},[a("li",{staticClass:"flex flex-between"},[a("div",{staticClass:"title"},[t._v("支付方式")]),a("div",{staticClass:"content"},[t._v(t._s(t.bankName)+"("+t._s(t.cardNo)+")")])])]),a("cube-button",{staticClass:"btn-main re-btn",attrs:{primary:!0},on:{click:t.pay}},[t._v("确认支付")]),t.dialog?a("model",{attrs:{title:"支付验证"},on:{confirmEvent:t.payConfirm},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",{staticClass:"cube-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneCode,expression:"phoneCode"}],staticClass:"cube-input-field",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.phoneCode},on:{input:function(e){e.target.composing||(t.phoneCode=e.target.value)}}}),a("cube-button",{staticClass:"code-btn",attrs:{disabled:t.codeBtn,primary:!0},on:{click:t.sendCode}},[t._v(t._s(t.codeBtn?"再次发送("+t.codeTime+")":"发送验证码"))])],1)]):t._e()],1)},n=[],s=(a("96cf"),a("1da1")),c=a("0d5e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cube-popup cube-popup_mask cube-dialog",staticStyle:{"z-index":"100"}},[a("div",{staticClass:"cube-popup-mask"}),a("div",{staticClass:"cube-popup-container cube-popup-center"},[a("div",{staticClass:"cube-popup-content"},[a("div",{staticClass:"cube-dialog-main"},[t._m(0),a("div",{staticClass:"cube-dialog-prompt"},[t.hasTitle?a("h2",{staticClass:"cube-dialog-title"},[a("p",{staticClass:"cube-dialog-title-def"},[t._v(t._s(t.title))])]):t._e(),a("div",{staticClass:"cube-dialog-content"},[a("div",{staticClass:"cube-dialog-content-def"},[t._t("default")],2)]),a("div",{staticClass:"cube-dialog-btns border-right-1px"},[a("a",{staticClass:"cube-dialog-btn border-top-1px",attrs:{href:"javascript:;"},on:{click:t.cancel}},[t._v(t._s(t.cancelText))]),a("a",{staticClass:"cube-dialog-btn border-top-1px cube-dialog-btn_highlight",attrs:{href:"javascript:;"},on:{click:t.sure}},[t._v(t._s(t.confirmText))])])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"cube-dialog-close",staticStyle:{display:"none"}},[a("i",{staticClass:"cubeic-close"})])}],l={props:{title:{type:String,default:"标题"},hasTitle:{type:Boolean,default:!0},value:{type:Boolean,default:!1},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"}},data:function(){return{val:!!this.value}},methods:{cancel:function(){this.val=!1,this.$emit("cancelEvent")},sure:function(){this.$emit("confirmEvent")}},watch:{val:function(t){t||this.$emit("input",!1)}}},u=l,d=(a("6768"),a("2877")),p=Object(d["a"])(u,o,r,!1,null,"78404a5d",null);p.options.__file="dialog.vue";var b=p.exports,m=a("4466"),f={data:function(){return{dialog:!1,codeTime:60,codeBtn:!1,payAmount:"",id:"",cardNo:"",bankId:"",bankName:"",phoneCode:""}},components:{Model:b},methods:{pay:function(){this.dialog=!0},sendCode:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.verCodeTime(),this.$store.commit("loading",!0),t.next=4,Object(c["b"])("/bill/beginPromptRepay",{cardId:this.bankId,id:this.id},"post");case 4:e=t.sent,0===e.code&&this.$store.commit("setMsg","发送成功");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),verCodeTime:function(){var t=this;this.codeBtn=!0;var e=function e(){setTimeout(function(){0===t.codeTime?(t.codeBtn=!1,t.codeTime=60):(t.codeTime-=1,e())},1e3)};e()},getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["b"])("/auth/card/cardList",{},"post");case 2:return e=t.sent,this.cardNo=e.data[0].cardNo,this.bankName=e.data[0].bankName,this.bankId=e.data[0].id,t.next=8,Object(c["b"])("/bill/billDetail",{id:this.id},"post");case 8:a=t.sent,this.payAmount=a.data.repayAmount;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),payConfirm:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("loading",!0),t.next=3,Object(c["b"])("/bill/payRepay",{id:this.id,cardId:this.bankId,phoneCode:this.phoneCode},"post");case 3:e=t.sent,0===e.code&&Object(m["a"])("closeApplication");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.id=this.$route.query.id,document.title="账单详情",this.getData()}},h=f,v=(a("3b6f"),Object(d["a"])(h,i,n,!1,null,"1d94d228",null));v.options.__file="payDetails.vue";e["default"]=v.exports},"322e":function(t,e,a){},"3b6f":function(t,e,a){"use strict";var i=a("322e"),n=a.n(i);n.a},6768:function(t,e,a){"use strict";var i=a("0723"),n=a.n(i);n.a}}]);
//# sourceMappingURL=payDetails-vue17.517aa05a.js.map