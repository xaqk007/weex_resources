(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loanCalc-vue12"],{"2c35":function(t,e,i){},"2fdb":function(t,e,i){"use strict";var n=i("5ca1"),s=i("d2c8"),a="includes";n(n.P+n.F*i("5147")(a),"String",{includes:function(t){return!!~s(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,i){var n=i("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(s){}}return!0}},6762:function(t,e,i){"use strict";var n=i("5ca1"),s=i("c366")(!0);n(n.P,"Array",{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},d2c8:function(t,e,i){var n=i("aae3"),s=i("be13");t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(s(t))}},d50d:function(t,e,i){"use strict";var n=i("2c35"),s=i.n(n);s.a},e241:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loanCalc"},[i("div",{staticClass:"block select"},[i("p",{staticClass:"title"},[t._v("借款金额(元)")]),i("div",{staticClass:"selects"},[t._l(t.money_option,function(e,n){return i("div",{key:n,staticClass:"option text-center",class:{active:e==t.sel_money},style:{background:e==t.sel_money?t.appConfig.appColor:"#f5f5f5"},on:{click:function(i){t.sel_money=e}}},[t._v(t._s(e))])}),i("p",{staticClass:"tip text-center"},[t._v("- 按日计息,次日起可提前还款,免违约金 -")])],2),i("hr"),i("p",{staticClass:"title sec-title"},[t._v("借款期限")]),i("div",{staticClass:"selects"},t._l(t.time_option,function(e,n){return i("div",{key:n,staticClass:"option text-center",class:{active:e==t.sel_time},style:{background:e==t.sel_time?t.appConfig.appColor:"#f5f5f5"},on:{click:function(i){t.sel_time=e}}},[t._v(t._s(e))])}))]),t._m(0),t._l(t.loanTime,function(e,n){return i("div",{key:n,staticClass:"block flex interest",class:{first:0==n}},[i("div",{staticClass:"time"},[i("div",[t._v("第"+t._s(n+1)+"期")]),i("div",{style:[t.appConfig.mainColor]},[t._v(t._s(e.time))])]),i("div",{staticClass:"money"},[i("div",{style:[t.appConfig.mainColor]},[t._v("￥"+t._s((Math.round(100*e.capital)+Math.round(100*e.interest))/100))]),i("div",{staticClass:"math"},[t._v("(本金+息费)￥"+t._s(e.capital)+"+￥"+t._s(e.interest))])])])}),i("div",{staticClass:"inter block"},[i("img",{attrs:{src:"https://money-arrive-static.oss-cn-shanghai-finance-1-pub.aliyuncs.com/20181203/icon%402x.png",alt:""}}),t._v("\n        总息费\n        "),i("span",{style:[t.appConfig.mainColor]},[t._v("￥"+t._s(Math.round(100*t.totalInterest)/100))])]),t._m(1),i("div",{staticClass:"next block"},[i("cube-button",{staticClass:"code-btn",style:[t.appConfig.mainBackground],attrs:{primary:!0},on:{click:t.nextStep}},[t._v("下一步")])],1)],2)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block plan"},[i("p",{staticClass:"title flex"},[i("span",[t._v("期数")]),i("span",[t._v("还款额")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inter block"},[i("img",{attrs:{src:"https://money-arrive-static.oss-cn-shanghai-finance-1-pub.aliyuncs.com/20181203/icon%402x.png",alt:""}}),t._v("年息24%，日息最低0.06%\n    ")])}],a=(i("6762"),i("2fdb"),i("be94")),o=i("2f62"),c={data:function(){return{money_option:[3e3,5e3,1e4,2e4,3e4,5e4],sel_money:parseInt(this.$route.query.money)||1e4,time_option:[3,6,12],sel_time:parseInt(this.$route.query.time)||12,totalInterest:0,loanTime:[]}},computed:Object(a["a"])({},Object(o["b"])(["appConfig","user"])),methods:{isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},dateList:function(t){for(var e=new Date,i=e.getFullYear(),n=e.getDate(),s=e.getMonth()+1,a=[],o=[],c=1;c<t+1;c++){var r=void 0;12===s?(s=1,i++):s++,r=n>28&&2===s?this.isLeapYear(i)?29:28:n>30&&[2,4,6,9,11].includes(s)?30:n,o.push(i+"/"+s+"/"+r)}for(var l=0;l<o.length;l++){var u=void 0;u=0==l?(Date.parse(o[0])-Date.parse(e.toLocaleDateString()))/864e5:(Date.parse(o[l])-Date.parse(o[l-1]))/864e5,a.push({time:o[l],days:u})}return a},countMoney:function(){var t=this;this.totalInterest=0;for(var e=(Math.ceil(100*this.sel_money/this.sel_time)/100).toFixed(2),i=function(e){return(Math.ceil(100*t.sel_money*.24/365*e)/100).toFixed(2)},n=this.dateList(this.sel_time),s=0;s<n.length;s++)n[s].interest=+i(n[s].days),this.totalInterest+=+i(n[s].days),n[s].capital=+e;this.loanTime=n},nextStep:function(){this.user.certification.person&&this.user.certification.img&&this.user.certification.bank?this.$router.push("/loanCalcConfirm?money=".concat(this.sel_money,"&time=").concat(this.sel_time)):this.$router.push("/creditCertification")}},mounted:function(){this.countMoney()},beforeCreate:function(){document.title="贷款计算"},beforeRouteEnter:function(t,e,i){"/creditCertification"==e.path?i(function(t){t.user.certification.person&&t.user.certification.img&&t.user.certification.bank&&t.nextStep()}):i()},watch:{sel_money:function(t){this.$router.push({query:{money:this.sel_money,time:this.sel_time}}),this.countMoney()},sel_time:function(t){this.$router.push({query:{money:this.sel_money,time:this.sel_time}}),this.countMoney()}}},r=c,l=(i("d50d"),i("2877")),u=Object(l["a"])(r,n,s,!1,null,"59c7749a",null);u.options.__file="loanCalc.vue";e["default"]=u.exports}}]);
//# sourceMappingURL=loanCalc-vue12.b6485173.js.map